<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Un JardÃ­n Para Ti ğŸ¤</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to top, #e9ddff, #cbb7f7);
    text-align: center;
    color: #4b2e83;
    overflow-x: hidden;
}

.header {
    padding: 25px 10px;
    position: relative;
    z-index: 10;
}

h1 {
    margin: 0;
    font-size: clamp(2rem, 6vw, 3rem);
}

p {
    margin-top: 8px;
    font-size: clamp(1.2rem, 4vw, 1.5rem);
}

.flower {
    position: absolute;
    font-size: clamp(40px, 8vw, 60px);
    cursor: pointer;
    animation: floatAnimation var(--duration) ease-in-out var(--delay) infinite alternate;
    transition: transform 0.3s;
    user-select: none;
}

.flower:hover { transform: scale(1.2); }

@keyframes floatAnimation {
    from { transform: translateY(0px); }
    to { transform: translateY(var(--float-distance)); }
}

.message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 25px;
    border-radius: 20px;
    display: none;
    width: min(90vw, 350px);
    box-shadow: 0 0 25px rgba(0,0,0,0.2);
    color: #4b2e83;
    z-index: 20;
    box-sizing: border-box;
}

.message button {
    margin-top: 15px;
    padding: 10px 16px;
    border: none;
    border-radius: 10px;
    background-color: #cbb7f7;
    color: #4b2e83;
    cursor: pointer;
    font-weight: bold;
}

.heart {
    position: fixed;
    color: white;
    animation: floatUp linear infinite;
    opacity: 0.8;
    pointer-events: none;
}

@keyframes floatUp {
    from { transform: translateY(100vh); opacity: 1; }
    to { transform: translateY(-10vh); opacity: 0; }
}
</style>
</head>
<body>

<div class="header">
    <h1>Un JardÃ­n Solo Para Ti ğŸ¤</h1>
    <p>Toca las flores...</p>
</div>

<div class="message" id="popup">
    <div id="text"></div>
    <button onclick="closeMessage()">Cerrar</button>
</div>

<script>
const flowersData = [
    {emoji:"ğŸŒ·", message:"Desde que llegaste, aprendÃ­ que es amar ğŸŒ·"},
    {emoji:"ğŸŒ¸", message:"Tu risa es mi sonido favorito ğŸ’•"},
    {emoji:"ğŸŒ¼", message:"Eres la luz mÃ¡s bonita de mis dÃ­as âœ¨"},
    {emoji:"ğŸŒ·", message:"Cada momento contigo es perfecto ğŸ¤"},
    {emoji:"ğŸŒ¸", message:"Tu abrazo es mi lugar seguro ğŸ«¶"},
    {emoji:"ğŸŒ¼", message:"Contigo todo se siente mÃ¡s dulce ğŸŒ¼"},
    {emoji:"ğŸŒ·", message:"Eres mi casualidad favorita ğŸ¤"},
    {emoji:"ğŸŒ¸", message:"No cambiarÃ­a nada si estÃ¡s tÃº ğŸŒ¸"},
    {emoji:"ğŸŒ¼", message:"Mi corazÃ³n te eligiÃ³ sin dudarlo ğŸ¤"},
    {emoji:"ğŸŒ·", message:"Eres la mujer mÃ¡s especial de mi mundo ğŸŒ·"},
    {emoji:"ğŸŒ¸", message:"Tu amor hace que todo sea mÃ¡s bonito ğŸŒ¸"},
    {emoji:"ğŸŒ¼", message:"Eres mi pensamiento favorito cada dÃ­a ğŸ¤"}
];

const placed = [];
const minDistance = 12; // vw/vh units
const safeMarginX = 2; // extra margin for flower width
const topBoundary = 25;
const bottomBoundary = 85;

function isFarEnough(x, y) {
    for (let pos of placed) {
        const dx = pos.x - x;
        const dy = pos.y - y;
        if (Math.sqrt(dx*dx + dy*dy) < minDistance) return false;
    }
    return true;
}

function createFlowers() {
    flowersData.forEach(data => {
        const flower = document.createElement("div");
        flower.classList.add("flower");
        flower.innerHTML = data.emoji;
        document.body.appendChild(flower); // temporarily append to measure

        // get actual flower width in vw
        const flowerWidthPx = flower.offsetWidth;
        const vwToPx = window.innerWidth / 100;
        const flowerWidthVW = flowerWidthPx / vwToPx;

        let x, y, attempts = 0;

        do {
            x = safeMarginX + Math.random() * (100 - 2*safeMarginX - flowerWidthVW);
            y = topBoundary + Math.random() * (bottomBoundary - topBoundary);
            attempts++;
        } while (!isFarEnough(x, y) && attempts < 100);

        placed.push({x, y});
        flower.style.left = x + "vw";
        flower.style.top = y + "vh";

        flower.style.setProperty("--float-distance", (-5 - Math.random() * 10) + "px");
        flower.style.setProperty("--duration", (3 + Math.random() * 4) + "s");
        flower.style.setProperty("--delay", (Math.random() * 3) + "s");

        flower.addEventListener("click", () => {
            document.getElementById("text").innerText = data.message;
            document.getElementById("popup").style.display = "block";
        });
    });
}

createFlowers();

function closeMessage() {
    document.getElementById("popup").style.display = "none";
}

/* Floating hearts */
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "ğŸ¤";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (Math.random() * 20 + 15) + "px";
    heart.style.animationDuration = (6 + Math.random() * 4) + "s";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 10000);
}

setInterval(createHeart, 900);

/* Recalculate flowers on resize */
window.addEventListener("resize", () => {
    document.querySelectorAll(".flower").forEach(f => f.remove());
    placed.length = 0;
    createFlowers();
});
</script>

</body>
</html>
